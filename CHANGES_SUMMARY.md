# é…ç½®æ›´æ”¹æ€»ç»“

## âœ… å·²å®Œæˆçš„é…ç½®

### 1. å¯†é’¥é…ç½®
- **ä¸Šä¼ å¯†é’¥**: `ssfz2027n15662768895`
- **åˆ é™¤å¯†é’¥**: `ssfz2027371920029173`
- å·²æ›´æ–°åˆ° `workers/wrangler.toml`
- å·²æ·»åŠ åˆ° `lib/default-keys.ts`ï¼ˆå¼€å‘ç¯å¢ƒè‡ªåŠ¨åŠ è½½ï¼‰

### 2. åº”ç”¨æ ‡é¢˜
- æ‰€æœ‰é¡µé¢æ ‡é¢˜å·²æ›´æ–°ä¸º **"ä¸€ç­å²è®°"**
- åŒ…æ‹¬ï¼š
  - æµè§ˆå™¨æ ‡é¢˜ï¼ˆapp/layout.tsxï¼‰
  - é¦–é¡µæ ‡é¢˜ï¼ˆapp/page.tsxï¼‰
  - ä¸Šä¼ é¡µé¢ï¼ˆapp/upload/page.tsxï¼‰
  - è®¾ç½®é¡µé¢ï¼ˆapp/settings/page.tsxï¼‰

### 3. Cloudflare å…¼å®¹æ€§æ›´æ–°
- **compatibility_date**: `2024-12-01`ï¼ˆæœ€æ–°ï¼‰
- **compatibility_flags**: `["nodejs_compat"]`
- å·²ç§»é™¤ä¸å…¼å®¹çš„ API è·¯ç”±ï¼ˆé™æ€å¯¼å‡ºä¸æ”¯æŒï¼‰

### 4. ä»£ç ä¿®å¤
- âœ… ä¿®å¤äº† KeyManager ä¸­çš„ require() é—®é¢˜ï¼Œæ”¹ç”¨åŠ¨æ€ import
- âœ… æ‰€æœ‰ç»„ä»¶å·²æ­£ç¡®æ ‡è®° `'use client'`
- âœ… æ—  linter é”™è¯¯
- âœ… TypeScript é…ç½®æ­£ç¡®

### 5. æ„å»ºé…ç½®
- Next.js ç‰ˆæœ¬: `^14.2.5`
- é™æ€å¯¼å‡ºæ¨¡å¼: `output: 'export'`
- å…¼å®¹ Cloudflare Pages

## ğŸ“‹ æ–‡ä»¶æ›´æ”¹æ¸…å•

### ä¿®æ”¹çš„æ–‡ä»¶
1. `workers/wrangler.toml` - æ›´æ–°å¯†é’¥å’Œå…¼å®¹æ€§é…ç½®
2. `app/layout.tsx` - æ›´æ–°æ ‡é¢˜ä¸º"ä¸€ç­å²è®°"
3. `app/page.tsx` - æ›´æ–°æ ‡é¢˜å’Œå¯¼å…¥
4. `app/upload/page.tsx` - æ›´æ–°æ ‡é¢˜
5. `app/settings/page.tsx` - æ›´æ–°æ ‡é¢˜
6. `components/KeyManager.tsx` - ä¿®å¤ require() é—®é¢˜
7. `package.json` - æ›´æ–° Next.js ç‰ˆæœ¬
8. `next.config.js` - æ·»åŠ å®éªŒæ€§é…ç½®

### æ–°å¢çš„æ–‡ä»¶
1. `lib/default-keys.ts` - é»˜è®¤å¯†é’¥é…ç½®
2. `CONFIG.md` - é…ç½®è¯´æ˜æ–‡æ¡£
3. `BUILD_CHECK.md` - æ„å»ºæ£€æŸ¥æ¸…å•
4. `CHANGES_SUMMARY.md` - æœ¬æ–‡ä»¶

## ğŸš€ ä¸‹ä¸€æ­¥æ“ä½œ

### 1. æ„å»ºé¡¹ç›®
```bash
npm run build
```

å¦‚æœæ„å»ºæˆåŠŸï¼Œä¼šåœ¨ `out/` ç›®å½•ç”Ÿæˆé™æ€æ–‡ä»¶ã€‚

### 2. éƒ¨ç½² Workers
```bash
cd workers
wrangler deploy
```

### 3. é…ç½®ç¯å¢ƒå˜é‡
åœ¨ Cloudflare Dashboard ä¸­ç¡®è®¤ï¼š
- `UPLOAD_KEY`: ssfz2027n15662768895
- `DELETE_KEY`: ssfz2027371920029173

### 4. è®¾ç½®å‰ç«¯ API URL
åˆ›å»º `.env.local` æ–‡ä»¶ï¼š
```env
NEXT_PUBLIC_API_URL=https://your-worker.your-subdomain.workers.dev
```

### 5. éƒ¨ç½²åˆ° Cloudflare Pages
- è¾“å‡ºç›®å½•: `out`
- æ„å»ºå‘½ä»¤: `npm run build`

## ğŸ” å¦‚æœæ„å»ºå¤±è´¥

1. **æ£€æŸ¥é”™è¯¯ä¿¡æ¯**: æŸ¥çœ‹ç»ˆç«¯è¾“å‡ºçš„å…·ä½“é”™è¯¯
2. **æ¸…ç†ç¼“å­˜**: 
   ```bash
   rm -rf .next out node_modules
   npm install
   ```
3. **æ£€æŸ¥ä¾èµ–**: ç¡®è®¤æ‰€æœ‰ä¾èµ–å·²æ­£ç¡®å®‰è£…
4. **æŸ¥çœ‹æ—¥å¿—**: æ£€æŸ¥æ˜¯å¦æœ‰ TypeScript æˆ– ESLint é”™è¯¯

## ğŸ“ æ³¨æ„äº‹é¡¹

- é¡¹ç›®ä½¿ç”¨é™æ€å¯¼å‡ºï¼Œæ‰€æœ‰ API è°ƒç”¨éƒ½åœ¨å®¢æˆ·ç«¯è¿›è¡Œ
- å¯†é’¥å­˜å‚¨åœ¨æµè§ˆå™¨æœ¬åœ°ï¼Œä¸ä¼šä¸Šä¼ åˆ°æœåŠ¡å™¨
- å¼€å‘ç¯å¢ƒä¼šè‡ªåŠ¨åŠ è½½é»˜è®¤å¯†é’¥
- ç”Ÿäº§ç¯å¢ƒéœ€è¦é€šè¿‡è®¾ç½®é¡µé¢é…ç½®å¯†é’¥




